<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us"><head><meta charset="UTF-8"><meta name="DC.rights.owner" content="(C) Copyright 2023"><meta name="copyright" content="(C) Copyright 2023"><meta name="generator" content="DITA-OT"><meta name="DC.type" content="concept"><meta name="description" content="In Grafana, queries are essential for fetching and transforming data from RMF data sources."><meta name="DC.relation" scheme="URI" content="apply_visualize.html"><meta name="DC.relation" scheme="URI" content="variables.html"><meta name="DC.format" content="HTML5"><meta name="DC.identifier" content="query_lang"><meta name="DC.language" content="en-us"><title>IBM RMF query languages</title><link rel="stylesheet" type="text/css" href="commonltr.css"></head><body id="query_lang"><main role="main"><article role="article" aria-labelledby="ariaid-title1">
    <h1 class="title topictitle1" id="ariaid-title1">IBM RMF query languages</h1>
    
    <div class="body conbody"><p class="shortdesc">In Grafana, queries are essential for fetching and transforming data from RMF data
        sources.</p>
        <p class="p">Executing a query is a process that involves defining the data source, specifying the
            desired data to retrieve, and applying relevant filters or transformations. <span class="ph">IBM RMF for z/OS Grafana</span> plugin provides a user-friendly RMF query
            editor that maximizes its unique capabilities. Grafana panels retrieve data for
            visualization from RMF data sources via queries.</p>
        <p class="p">You can use the following types of queries to retrieve data from the specified RMF data
            source:</p>
        <ul class="ul" id="query_lang__ul_ihg_2l3_ryb">
            <li class="li">Metric query – Use this query to retrieve RMF Monitor III metrics.</li>
            <li class="li">Report query – Use this query to retrieve RMF Monitor III reports.</li>
        </ul>
        <section class="section" id="query_lang__section_ass_fl3_ryb"><h2 class="title sectiontitle">Metric query syntax</h2>
            
            <p class="p">The syntax of the Metric query is as follows:</p>
            <p class="p"><code class="ph codeph"><var class="keyword varname">resource_type</var>.<var class="keyword varname">metric_description</var>
                        {<var class="keyword varname">qualifications</var>}</code></p>
            <div class="p">Where:<ul class="ul" id="query_lang__ul_exv_jl3_ryb">
                    <li class="li"><span class="ph" id="query_lang__ph_ukr_nbs_lzb"><code class="ph codeph"><var class="keyword varname">resource_type</var></code> is the type
                            of resource for which information is requested. You must enter the
                            appropriate value in the
                                <code class="ph codeph"><var class="keyword varname">resource_type</var></code> field.</span><p class="p">The
                            available resource types are documented in the <a class="xref" href="https://www.ibm.com/docs/en/zos/3.1.0?topic=models-zos-rmf-monitor-iii-resource-model#zosm3" target="_blank" rel="external noopener">z/OS RMF Monitor III resource
                                model</a> topic in the <cite class="cite">z/OS Resource Measurement Facility Programmer's
            Guide</cite>.</p></li>
                    <li class="li"><code class="ph codeph"><var class="keyword varname">metric_description</var></code> is the name of the
                        metric for the selected resource type.<p class="p">After entering the resource type,
                            you can choose the metric description from the drop-down list.</p></li>
                    <li class="li"><code class="ph codeph"><var class="keyword varname">qualifications</var></code> is an optional parameter
                        and can contain any or all the following attributes separated by a comma:<ul class="ul" id="query_lang__ul_bqf_rl3_ryb">
                            <li class="li"><code class="ph codeph"><var class="keyword varname">ulq</var></code>: The name of the resource
                                type at the upper level.</li>
                            <li class="li"><code class="ph codeph"><var class="keyword varname">name</var></code>: The name of the
                                resource.</li>
                            <li class="li"><code class="ph codeph"><var class="keyword varname">filter</var></code>: The filter helps to
                                focus on the data of your interest when requesting a list of values.
                                    <div class="p">You can use one of the following values for the
                                            <code class="ph codeph"><var class="keyword varname">filter</var></code> attribute:<dl class="dl" id="query_lang__dl_qgp_sy5_ryb">
                                        
                                            <dt class="dt dlterm">PAT=&lt; pattern&gt;</dt>
                                            <dd class="dd">Specifies one or more patterns that must match the
                                                name part of a list element.</dd>
                                        
                                        
                                            <dt class="dt dlterm">LB=&lt;number&gt;</dt>
                                            <dd class="dd">Specifies a lower bound value. Only list elements
                                                with values higher than the given lower bound are
                                                returned.</dd>
                                        
                                        
                                            <dt class="dt dlterm">UB=&lt;number&gt;</dt>
                                            <dd class="dd">Specifies an upper bound value. Only list elements
                                                with values lower than the established upper bound
                                                are returned.</dd>
                                        
                                        
                                            <dt class="dt dlterm">HI=&lt;integer&gt;</dt>
                                            <dd class="dd">Only the highest &lt;integer&gt; list elements are
                                                returned (mutually exclusive with LO).</dd>
                                        
                                        
                                            <dt class="dt dlterm">LO=&lt;integer&gt;</dt>
                                            <dd class="dd">Only the lowest &lt;integer&gt; list elements are
                                                returned (mutually exclusive with HI).</dd>
                                        
                                        
                                            <dt class="dt dlterm">ORD=&lt; NA | ND | VA | VD | NN&gt;</dt>
                                            <dd class="dd">
                                                <ul class="ul" id="query_lang__ul_z5k_1z5_ryb">
                                                  <li class="li">NA - Sort the list of names by their names in
                                                  ascending order.</li>
                                                  <li class="li">ND – Sort the list of names by their names in
                                                  descending order.</li>
                                                  <li class="li">VA – Sort the list of values by their values
                                                  in ascending order.</li>
                                                  <li class="li">VD – Sort the list of values by their values
                                                  in descending order. </li>
                                                  <li class="li">NN - If you do not want to have any order, you
                                                  can specify ORD=NN.</li>
                                                </ul>
                                            </dd>
                                        
                                    </dl></div></li>
                            <li class="li"><code class="ph codeph"><var class="keyword varname">workscope</var></code>: To qualify a request
                                for performance data in more detail about address spaces and WLM
                                entities. You can use one of the following values for the workscope
                                    attribute:<ul class="ul" id="query_lang__ul_px1_gz5_ryb">
                                    <li class="li">G - Global (no workscope required)</li>
                                    <li class="li">W - WLM workload</li>
                                    <li class="li">S - WLM service class</li>
                                    <li class="li">P - WLM service class period</li>
                                    <li class="li">R - WLM report class</li>
                                    <li class="li">J - Job</li>
                                </ul></li>
                        </ul></li>
                </ul></div>
            <p class="p"><strong class="ph b">Examples</strong>:</p>
            <pre class="pre codeblock" id="query_lang__codeblock_pfq_1bv_ryb"><code><var class="keyword varname">SYSPLEX</var>.<var class="keyword varname">% total physical utilization (AAP) by partition</var></code></pre>
            <pre class="pre codeblock" id="query_lang__codeblock_bs5_r3j_lzb"><code><var class="keyword varname">COUPLING_FACILITY</var>.<var class="keyword varname">% processor utilization</var></code></pre>
            <pre class="pre codeblock" id="query_lang__codeblock_pht_x3j_lzb"><code><var class="keyword varname">CPC</var>.<var class="keyword varname">% total physical utilization (shared IIP)</var></code></pre>
            <pre class="pre codeblock" id="query_lang__codeblock_f4k_cbv_ryb"><code><var class="keyword varname">MVS_IMAGE</var>.<var class="keyword varname">% delay by WLM report class period</var> {<span class="keyword parmname">name</span>=<var class="keyword varname">RS21</var>}</code></pre>
            
            <pre class="pre codeblock" id="query_lang__codeblock_qqh_mbv_ryb"><code><var class="keyword varname">MVS_IMAGE</var>.<var class="keyword varname">% workflow by WLM report class period</var> {<span class="keyword parmname">ulq</span>=<var class="keyword varname">RS21</var>,<span class="keyword parmname">name</span>=<var class="keyword varname">RS2*</var>,<span class="keyword parmname">filter</span>=<var class="keyword varname">ORD</var>=<var class="keyword varname">NA</var>,<span class="keyword parmname">workscope</span>=<var class="keyword varname">,,G</var>}</code></pre>
        </section>
        <section class="section" id="query_lang__section_l5k_fm3_ryb"><h2 class="title sectiontitle">Report query syntax</h2>
            
            <p class="p">The syntax of the Report query is as follows:</p>
            <p class="p"><code class="ph codeph"><var class="keyword varname">resource_type</var>.<span class="keyword parmname">REPORT</span>.<var class="keyword varname">report_name</var></code></p>
            <div class="p">Where:<ul class="ul" id="query_lang__ul_r3t_gm3_ryb">
                    <li class="li"><span class="ph"><code class="ph codeph"><var class="keyword varname">resource_type</var></code> is the type
                            of resource for which information is requested. You must enter the
                            appropriate value in the
                                <code class="ph codeph"><var class="keyword varname">resource_type</var></code> field.</span></li>
                    <li class="li"><code class="ph codeph"><var class="keyword varname">report_name</var></code> is the name of the
                            report.<p class="p">You can find the report names in the <a class="xref" href="https://www.ibm.com/docs/en/zos/3.1.0?topic=analysis-interactive-performance-monitor-iii" target="_blank" rel="external noopener">Interactive performance analysis with
                                Monitor III</a>, which is documented in the <cite class="cite">z/OS Resource Measurement Facility Report Analysis</cite>.</p><div class="note note note_note" id="query_lang__note_b4r_5m3_ryb"><span class="note__title">Note:</span> You can view reports on the Grafana dashboard only
                            for the resource types <code class="ph codeph">SYSPLEX</code> and
                                <code class="ph codeph">MVS_IMAGE</code>.</div></li>
                </ul></div>
            <p class="p"><strong class="ph b">Examples</strong>:</p>
            <pre class="pre codeblock" id="query_lang__codeblock_int_pbv_ryb"><code><var class="keyword varname">SYSPLEX</var>.<span class="keyword parmname">REPORT</span>.<var class="keyword varname">CACHSUM</var></code></pre>
            <pre class="pre codeblock" id="query_lang__codeblock_l5g_rbv_ryb"><code><var class="keyword varname">SYSPLEX</var>.<span class="keyword parmname">REPORT</span>.<var class="keyword varname">CPC</var></code></pre>
        </section>
    </div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="apply_visualize.html" title="By adding panels to dashboards, you can effectively present your RMF data in a visual format. Each panel must require at least one query to display a significant visualization.">Applying visualization to RMF data</a></div><div class="nextlink"><strong>Next topic:</strong> <a class="link" href="variables.html" title="Variables are a powerful tool to create more interactive and dynamic dashboards. They offer a way to replace hard-coded values in metric queries and panel titles with placeholders for values.">RMF Variable Query syntax</a></div></div></nav></article></main></body></html>